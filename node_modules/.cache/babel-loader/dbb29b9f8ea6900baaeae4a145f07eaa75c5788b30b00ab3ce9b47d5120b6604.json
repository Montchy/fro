{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = tnodeSnapshot;\nfunction printTableStyles(styles) {\n  const entries = Object.entries(styles);\n  return entries.reduce((prev, _ref) => {\n    let [name, val] = _ref;\n    return \"\".concat(prev).concat(prev ? ',' : '', \" \").concat(name, \": \").concat(JSON.stringify(val));\n  }, '');\n}\nfunction tnodePropertiesString(tnode, _ref2) {\n  let {\n    withNodeIndex,\n    withStyles\n  } = _ref2;\n  var _tnode$classes;\n  const tagPrint = tnode.tagName ? \"tagName=\\\"\".concat(tnode.tagName, \"\\\"\") : 'anonymous';\n  const unregisteredPrint = tnode.isUnregistered ? 'unregistered' : null;\n  const indexPrint = withNodeIndex ? \"nodeIndex={\".concat(tnode.nodeIndex, \"}\") : null;\n  const idPrint = tnode.id ? \"id=\".concat(tnode.id) : null;\n  const classesPrint = (_tnode$classes = tnode.classes) !== null && _tnode$classes !== void 0 && _tnode$classes.length ? \"classes={[\".concat(tnode.classes.join(', '), \"]}\") : null;\n  const dataPrint = tnode.type === 'text' ? \"data=\".concat(JSON.stringify(tnode.data)) : null;\n  const anchorPrint = typeof tnode.attributes.href === 'string' ? \"href=\".concat(JSON.stringify(tnode.attributes.href)) : null;\n  const srcPrint = typeof tnode.attributes.src === 'string' ? \"src=\".concat(JSON.stringify(tnode.attributes.src)) : null;\n  const pstyles = withStyles ? printTableStyles(tnode.getNativeStyles()) : null;\n  const nativeStylesPrint = pstyles ? \"nativeStyles={{\".concat(pstyles, \" }}\") : null;\n  const oStyles = withStyles ? printTableStyles(tnode.getWebStyles()) : null;\n  const webStylesPrint = oStyles ? \"webStyles={{\".concat(oStyles, \"}}\") : null;\n  const detailsPrint = [tagPrint, unregisteredPrint, indexPrint, idPrint, classesPrint, dataPrint, anchorPrint, srcPrint, nativeStylesPrint, webStylesPrint].filter(p => p !== null).join(' ');\n  return \"<\".concat(tnode.displayName, \" \").concat(detailsPrint);\n}\nfunction tnodeSnapshot(tnode, params) {\n  const {\n    parentLeftPrefix = '',\n    isChild = false,\n    isLast = true,\n    withStyles,\n    withNodeIndex\n  } = params;\n  const prefix = isChild ? '  ' : '';\n  const totalPrefixLeft = parentLeftPrefix + prefix;\n  const childrenPrint = tnode.children.map((c, i) => tnodeSnapshot(c, {\n    parentLeftPrefix: parentLeftPrefix + ''.padStart(prefix.length, ' '),\n    isChild: true,\n    isLast: i === tnode.children.length - 1,\n    withStyles,\n    withNodeIndex\n  })).join('');\n  return \"\".concat(totalPrefixLeft).concat(tnodePropertiesString(tnode, {\n    withStyles,\n    withNodeIndex\n  })).concat(childrenPrint ? \">\\n\".concat(childrenPrint, \"\\n\").concat(totalPrefixLeft, \"</\").concat(tnode.displayName, \">\") : ' />').concat(isLast ? '' : '\\n');\n}","map":{"version":3,"names":["printTableStyles","styles","entries","Object","reduce","prev","_ref","name","val","concat","JSON","stringify","tnodePropertiesString","tnode","_ref2","withNodeIndex","withStyles","_tnode$classes","tagPrint","tagName","unregisteredPrint","isUnregistered","indexPrint","nodeIndex","idPrint","id","classesPrint","classes","length","join","dataPrint","type","data","anchorPrint","attributes","href","srcPrint","src","pstyles","getNativeStyles","nativeStylesPrint","oStyles","getWebStyles","webStylesPrint","detailsPrint","filter","p","displayName","tnodeSnapshot","params","parentLeftPrefix","isChild","isLast","prefix","totalPrefixLeft","childrenPrint","children","map","c","i","padStart"],"sources":["/Users/amelieploil/Desktop/Diploma/kinskyfe/node_modules/@native-html/transient-render-engine/lib/commonjs/tree/tnodeSnapshot.ts"],"sourcesContent":["import { TNode, TNodePrintOptions } from './tree-types';\n\nfunction printTableStyles(styles: Record<string, any>) {\n  const entries = Object.entries(styles);\n  return entries.reduce((prev, [name, val]) => {\n    return `${prev}${prev ? ',' : ''} ${name}: ${JSON.stringify(val)}`;\n  }, '');\n}\n\nfunction tnodePropertiesString(\n  tnode: TNode,\n  { withNodeIndex, withStyles }: TNodePrintOptions\n) {\n  const tagPrint = tnode.tagName ? `tagName=\"${tnode.tagName}\"` : 'anonymous';\n  const unregisteredPrint = tnode.isUnregistered ? 'unregistered' : null;\n  const indexPrint = withNodeIndex ? `nodeIndex={${tnode.nodeIndex}}` : null;\n  const idPrint = tnode.id ? `id=${tnode.id}` : null;\n  const classesPrint = tnode.classes?.length\n    ? `classes={[${tnode.classes.join(', ')}]}`\n    : null;\n  const dataPrint =\n    tnode.type === 'text' ? `data=${JSON.stringify(tnode.data)}` : null;\n  const anchorPrint =\n    typeof tnode.attributes.href === 'string'\n      ? `href=${JSON.stringify(tnode.attributes.href)}`\n      : null;\n  const srcPrint =\n    typeof tnode.attributes.src === 'string'\n      ? `src=${JSON.stringify(tnode.attributes.src)}`\n      : null;\n  const pstyles = withStyles ? printTableStyles(tnode.getNativeStyles()) : null;\n  const nativeStylesPrint = pstyles ? `nativeStyles={{${pstyles} }}` : null;\n  const oStyles = withStyles ? printTableStyles(tnode.getWebStyles()) : null;\n  const webStylesPrint = oStyles ? `webStyles={{${oStyles}}}` : null;\n  const detailsPrint = [\n    tagPrint,\n    unregisteredPrint,\n    indexPrint,\n    idPrint,\n    classesPrint,\n    dataPrint,\n    anchorPrint,\n    srcPrint,\n    nativeStylesPrint,\n    webStylesPrint\n  ]\n    .filter((p) => p !== null)\n    .join(' ');\n  return `<${tnode.displayName} ${detailsPrint}`;\n}\n\ninterface TNodePrintState {\n  parentLeftPrefix: string;\n  isChild: boolean;\n  isLast: boolean;\n}\n\nexport default function tnodeSnapshot(\n  tnode: TNode,\n  params: Partial<TNodePrintState> & TNodePrintOptions\n): string {\n  const {\n    parentLeftPrefix = '',\n    isChild = false,\n    isLast = true,\n    withStyles,\n    withNodeIndex\n  } = params;\n  const prefix = isChild ? '  ' : '';\n  const totalPrefixLeft = parentLeftPrefix + prefix;\n  const childrenPrint = tnode.children\n    .map((c, i) =>\n      tnodeSnapshot(c, {\n        parentLeftPrefix: parentLeftPrefix + ''.padStart(prefix.length, ' '),\n        isChild: true,\n        isLast: i === tnode.children.length - 1,\n        withStyles,\n        withNodeIndex\n      })\n    )\n    .join('');\n  return `${totalPrefixLeft}${tnodePropertiesString(tnode, {\n    withStyles,\n    withNodeIndex\n  })}${\n    childrenPrint\n      ? `>\\n${childrenPrint}\\n${totalPrefixLeft}</${tnode.displayName}>`\n      : ' />'\n  }${isLast ? '' : '\\n'}`;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}