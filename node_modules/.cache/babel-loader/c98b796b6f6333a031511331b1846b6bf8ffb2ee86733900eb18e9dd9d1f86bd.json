{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useIMGNormalizedSource;\nvar _react = require(\"react\");\nvar _SharedPropsProvider = require(\"../context/SharedPropsProvider\");\nfunction useIMGNormalizedSource({\n  source,\n  specifiedDimensions\n}) {\n  const cachedDimensions = (0, _react.useRef)(specifiedDimensions);\n  const {\n    provideEmbeddedHeaders\n  } = (0, _SharedPropsProvider.useSharedProps)();\n  return (0, _react.useMemo)(() => {\n    if (source.uri && typeof provideEmbeddedHeaders === 'function') {\n      var _cachedDimensions$cur, _cachedDimensions$cur2;\n      const headers = provideEmbeddedHeaders(source.uri, 'img', {\n        printWidth: ((_cachedDimensions$cur = cachedDimensions.current) === null || _cachedDimensions$cur === void 0 ? void 0 : _cachedDimensions$cur.width) || undefined,\n        printHeight: ((_cachedDimensions$cur2 = cachedDimensions.current) === null || _cachedDimensions$cur2 === void 0 ? void 0 : _cachedDimensions$cur2.height) || undefined\n      });\n      if (headers) {\n        return {\n          headers,\n          ...source\n        };\n      }\n    }\n    return source;\n  }, [provideEmbeddedHeaders, source]);\n}","map":{"version":3,"names":["_react","require","_SharedPropsProvider","useIMGNormalizedSource","source","specifiedDimensions","cachedDimensions","useRef","provideEmbeddedHeaders","useSharedProps","useMemo","uri","_cachedDimensions$cur","_cachedDimensions$cur2","headers","printWidth","current","width","undefined","printHeight","height"],"sources":["/Users/amelieploil/Desktop/Diploma/kinskyfe/node_modules/react-native-render-html/lib/commonjs/elements/useIMGNormalizedSource.ts"],"sourcesContent":["import { useMemo, useRef } from 'react';\nimport { useSharedProps } from '../context/SharedPropsProvider';\nimport {\n  IncompleteImageDimensions,\n  UseIMGElementStateProps\n} from './img-types';\n\nexport default function useIMGNormalizedSource({\n  source,\n  specifiedDimensions\n}: Pick<UseIMGElementStateProps, 'source'> & {\n  specifiedDimensions: IncompleteImageDimensions;\n}) {\n  const cachedDimensions = useRef(specifiedDimensions);\n  const { provideEmbeddedHeaders } = useSharedProps();\n  return useMemo(() => {\n    if (source.uri && typeof provideEmbeddedHeaders === 'function') {\n      const headers = provideEmbeddedHeaders(source.uri, 'img', {\n        printWidth: cachedDimensions.current?.width || undefined,\n        printHeight: cachedDimensions.current?.height || undefined\n      });\n      if (headers) {\n        return {\n          headers,\n          ...source\n        };\n      }\n    }\n    return source;\n  }, [provideEmbeddedHeaders, source]);\n}\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAD,OAAA;AAMe,SAASE,sBAATA,CAAgC;EAC7CC,MAD6C;EAE7CC;AAF6C,CAAhC,EAKZ;EACD,MAAMC,gBAAgB,GAAG,IAAAN,MAAA,CAAAO,MAAA,EAAOF,mBAAP,CAAzB;EACA,MAAM;IAAEG;EAAF,IAA6B,IAAAN,oBAAA,CAAAO,cAAA,GAAnC;EACA,OAAO,IAAAT,MAAA,CAAAU,OAAA,EAAQ,MAAM;IACnB,IAAIN,MAAM,CAACO,GAAP,IAAc,OAAOH,sBAAP,KAAkC,UAApD,EAAgE;MAAA,IAAAI,qBAAA,EAAAC,sBAAA;MAC9D,MAAMC,OAAO,GAAGN,sBAAsB,CAACJ,MAAM,CAACO,GAAR,EAAa,KAAb,EAAoB;QACxDI,UAAU,EAAE,EAAAH,qBAAA,GAAAN,gBAAgB,CAACU,OAAjB,cAAAJ,qBAAA,uBAAAA,qBAAA,CAA0BK,KAA1B,KAAmCC,SADS;QAExDC,WAAW,EAAE,EAAAN,sBAAA,GAAAP,gBAAgB,CAACU,OAAjB,cAAAH,sBAAA,uBAAAA,sBAAA,CAA0BO,MAA1B,KAAoCF;MAFO,CAApB,CAAtC;MAIA,IAAIJ,OAAJ,EAAa;QACX,OAAO;UACLA,OADK;UAEL,GAAGV;QAFE,CAAP;MAID;IACF;IACD,OAAOA,MAAP;EACD,CAdM,EAcJ,CAACI,sBAAD,EAAyBJ,MAAzB,CAdI,CAAP;AAeD","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}